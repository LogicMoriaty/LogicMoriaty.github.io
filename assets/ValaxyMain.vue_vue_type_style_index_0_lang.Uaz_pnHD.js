import{m as Q,u as xe,g as Yt,G as Xe,H as Qe,I as se,q as qt,a as Bt,l as Vt,J as Ut}from"./app.DugKs1_R.js";import{_ as Dt}from"./YunComment.vue_vue_type_style_index_0_lang.C-L7CViU.js";import{g as et,i as Ft,h as Ve}from"./chunks/@vueuse/motion.BxgL5e6R.js";import{d as Ue}from"./chunks/dayjs.Byk5cVHE.js";import{a as tt,u as Gt}from"./chunks/vue-router.ByLhtLzl.js";import{v as ue,M as H,R as ee,ac as T,ae as b,aa as J,ah as y,O as p,a9 as Wt,al as de,af as j,ab as L,H as Zt,a7 as Kt,aj as Ce,ad as E,w as Jt,_ as Z,ak as Xt}from"./framework.CkkXSZXS.js";import{u as Ie}from"./chunks/vue-i18n.CCC9kwTv.js";import{_ as Qt}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.Dl6W6tve.js";import{u as en}from"./post.j2ORQz4_.js";function tn(e){const t=e.cloneNode(!0);t.style.cssText=`
      position: absolute;
      visibility: hidden;
      display: block;
      left: -9999px;
  `,document.body.appendChild(t);const n=t.scrollHeight;return document.body.removeChild(t),n}function nn(){const e=Q(),n=xe().value.codeHeightLimit||e.value.codeHeightLimit;typeof n!="number"||n<=0||(et("click",o=>{const a=o.target;if(a.matches('[class*="language-"] > button.collapse')){const i=a.parentElement;i==null||i.classList.remove("folded");const d=`max-h-${n}px`;i==null||i.classList.remove(d)}}),ue(()=>{const o=document.querySelectorAll('div[class*="language-"]');for(const a of Array.from(o))tn(a)>n&&a.classList.add("folded")}))}function on(){if(Ft){const e=new WeakMap;window.addEventListener("click",t=>{var o;const n=t.target;if(n.matches('div[class*="language-"] > button.copy')){const a=n.parentElement,i=(o=n.nextElementSibling)==null?void 0:o.nextElementSibling;if(!a||!i)return;const d=/language-(shellscript|shell|bash|sh|zsh)/.test(a.className);let m="";i.querySelectorAll("span.line:not(.diff.remove)").forEach(v=>m+=`${v.textContent||""}
`),m=m.slice(0,-1),d&&(m=m.replace(/^ *(\$|>) /gm,"").trim()),an(m).then(()=>{n.classList.add("copied"),clearTimeout(e.get(n));const v=setTimeout(()=>{n.classList.remove("copied"),n.blur(),e.delete(n)},2e3);e.set(n,v)})}})}}async function an(e){try{return navigator.clipboard.writeText(e)}catch{const t=document.createElement("textarea"),n=document.activeElement;t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const o=document.getSelection(),a=o?o.rangeCount>0&&o.getRangeAt(0):null;document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length,document.execCommand("copy"),document.body.removeChild(t),a&&(o.removeAllRanges(),o.addRange(a)),n&&n.focus()}}/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},le=function(t){return t.tagName==="IMG"},rn=function(t){return NodeList.prototype.isPrototypeOf(t)},ce=function(t){return t&&t.nodeType===1},De=function(t){var n=t.currentSrc||t.src;return n.substr(-4).toLowerCase()===".svg"},Fe=function(t){try{return Array.isArray(t)?t.filter(le):rn(t)?[].slice.call(t).filter(le):ce(t)?[t].filter(le):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(le):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},sn=function(t){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=t,n},ln=function(t){var n=t.getBoundingClientRect(),o=n.top,a=n.left,i=n.width,d=n.height,m=t.cloneNode(),v=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,C=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return m.removeAttribute("id"),m.style.position="absolute",m.style.top=o+v+"px",m.style.left=a+C+"px",m.style.width=i+"px",m.style.height=d+"px",m.style.transform="",m},D=function(t,n){var o=P({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(t,o);var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,o.bubbles,o.cancelable,o.detail),a},cn=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=window.Promise||function(s){function l(){}s(l,l)},a=function(s){var l=s.target;if(l===re){A();return}$.indexOf(l)!==-1&&ae({target:l})},i=function(){if(!(V||!r.original)){var s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(qe-s)>f.scrollOffset&&setTimeout(A,150)}},d=function(s){var l=s.key||s.keyCode;(l==="Escape"||l==="Esc"||l===27)&&A()},m=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=s;if(s.background&&(re.style.background=s.background),s.container&&s.container instanceof Object&&(l.container=P({},f.container,s.container)),s.template){var g=ce(s.template)?s.template:document.querySelector(s.template);l.template=g}return f=P({},f,l),$.forEach(function(h){h.dispatchEvent(D("medium-zoom:update",{detail:{zoom:_}}))}),_},v=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(P({},f,s))},C=function(){for(var s=arguments.length,l=Array(s),g=0;g<s;g++)l[g]=arguments[g];var h=l.reduce(function(c,w){return[].concat(c,Fe(w))},[]);return h.filter(function(c){return $.indexOf(c)===-1}).forEach(function(c){$.push(c),c.classList.add("medium-zoom-image")}),B.forEach(function(c){var w=c.type,x=c.listener,U=c.options;h.forEach(function(O){O.addEventListener(w,x,U)})}),_},he=function(){for(var s=arguments.length,l=Array(s),g=0;g<s;g++)l[g]=arguments[g];r.zoomed&&A();var h=l.length>0?l.reduce(function(c,w){return[].concat(c,Fe(w))},[]):$;return h.forEach(function(c){c.classList.remove("medium-zoom-image"),c.dispatchEvent(D("medium-zoom:detach",{detail:{zoom:_}}))}),$=$.filter(function(c){return h.indexOf(c)===-1}),_},u=function(s,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.forEach(function(h){h.addEventListener("medium-zoom:"+s,l,g)}),B.push({type:"medium-zoom:"+s,listener:l,options:g}),_},Ye=function(s,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.forEach(function(h){h.removeEventListener("medium-zoom:"+s,l,g)}),B=B.filter(function(h){return!(h.type==="medium-zoom:"+s&&h.listener.toString()===l.toString())}),_},oe=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=s.target,g=function(){var c={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},w=void 0,x=void 0;if(f.container)if(f.container instanceof Object)c=P({},c,f.container),w=c.width-c.left-c.right-f.margin*2,x=c.height-c.top-c.bottom-f.margin*2;else{var U=ce(f.container)?f.container:document.querySelector(f.container),O=U.getBoundingClientRect(),Ee=O.width,xt=O.height,It=O.left,Ht=O.top;c=P({},c,{width:Ee,height:xt,left:It,top:Ht})}w=w||c.width-f.margin*2,x=x||c.height-f.margin*2;var W=r.zoomedHd||r.original,St=De(W)?w:W.naturalWidth||w,Ot=De(W)?x:W.naturalHeight||x,ie=W.getBoundingClientRect(),Tt=ie.top,Nt=ie.left,$e=ie.width,ze=ie.height,Mt=Math.min(Math.max($e,St),w)/$e,Rt=Math.min(Math.max(ze,Ot),x)/ze,we=Math.min(Mt,Rt),Pt=(-Nt+(w-$e)/2+f.margin+c.left)/we,jt=(-Tt+(x-ze)/2+f.margin+c.top)/we,Be="scale("+we+") translate3d("+Pt+"px, "+jt+"px, 0)";r.zoomed.style.transform=Be,r.zoomedHd&&(r.zoomedHd.style.transform=Be)};return new o(function(h){if(l&&$.indexOf(l)===-1){h(_);return}var c=function Ee(){V=!1,r.zoomed.removeEventListener("transitionend",Ee),r.original.dispatchEvent(D("medium-zoom:opened",{detail:{zoom:_}})),h(_)};if(r.zoomed){h(_);return}if(l)r.original=l;else if($.length>0){var w=$;r.original=w[0]}else{h(_);return}if(r.original.dispatchEvent(D("medium-zoom:open",{detail:{zoom:_}})),qe=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,V=!0,r.zoomed=ln(r.original),document.body.appendChild(re),f.template){var x=ce(f.template)?f.template:document.querySelector(f.template);r.template=document.createElement("div"),r.template.appendChild(x.content.cloneNode(!0)),document.body.appendChild(r.template)}if(r.original.parentElement&&r.original.parentElement.tagName==="PICTURE"&&r.original.currentSrc&&(r.zoomed.src=r.original.currentSrc),document.body.appendChild(r.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),r.original.classList.add("medium-zoom-image--hidden"),r.zoomed.classList.add("medium-zoom-image--opened"),r.zoomed.addEventListener("click",A),r.zoomed.addEventListener("transitionend",c),r.original.getAttribute("data-zoom-src")){r.zoomedHd=r.zoomed.cloneNode(),r.zoomedHd.removeAttribute("srcset"),r.zoomedHd.removeAttribute("sizes"),r.zoomedHd.removeAttribute("loading"),r.zoomedHd.src=r.zoomed.getAttribute("data-zoom-src"),r.zoomedHd.onerror=function(){clearInterval(U),console.warn("Unable to reach the zoom image target "+r.zoomedHd.src),r.zoomedHd=null,g()};var U=setInterval(function(){r.zoomedHd.complete&&(clearInterval(U),r.zoomedHd.classList.add("medium-zoom-image--opened"),r.zoomedHd.addEventListener("click",A),document.body.appendChild(r.zoomedHd),g())},10)}else if(r.original.hasAttribute("srcset")){r.zoomedHd=r.zoomed.cloneNode(),r.zoomedHd.removeAttribute("sizes"),r.zoomedHd.removeAttribute("loading");var O=r.zoomedHd.addEventListener("load",function(){r.zoomedHd.removeEventListener("load",O),r.zoomedHd.classList.add("medium-zoom-image--opened"),r.zoomedHd.addEventListener("click",A),document.body.appendChild(r.zoomedHd),g()})}else g()})},A=function(){return new o(function(s){if(V||!r.original){s(_);return}var l=function g(){r.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(r.zoomed),r.zoomedHd&&document.body.removeChild(r.zoomedHd),document.body.removeChild(re),r.zoomed.classList.remove("medium-zoom-image--opened"),r.template&&document.body.removeChild(r.template),V=!1,r.zoomed.removeEventListener("transitionend",g),r.original.dispatchEvent(D("medium-zoom:closed",{detail:{zoom:_}})),r.original=null,r.zoomed=null,r.zoomedHd=null,r.template=null,s(_)};V=!0,document.body.classList.remove("medium-zoom--opened"),r.zoomed.style.transform="",r.zoomedHd&&(r.zoomedHd.style.transform=""),r.template&&(r.template.style.transition="opacity 150ms",r.template.style.opacity=0),r.original.dispatchEvent(D("medium-zoom:close",{detail:{zoom:_}})),r.zoomed.addEventListener("transitionend",l)})},ae=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=s.target;return r.original?A():oe({target:l})},be=function(){return f},_e=function(){return $},ye=function(){return r.original},$=[],B=[],V=!1,qe=0,f=n,r={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?f=t:(t||typeof t=="string")&&C(t),f=P({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},f);var re=sn(f.background);document.addEventListener("click",a),document.addEventListener("keyup",d),document.addEventListener("scroll",i),window.addEventListener("resize",A);var _={open:oe,close:A,toggle:ae,update:m,clone:v,attach:C,detach:he,on:u,off:Ye,getOptions:be,getImages:_e,getZoomedImage:ye};return _};function dn(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var mn=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";dn(mn);function un(){const t=Q().value.mediumZoom;t.enable&&ue(()=>{cn(t.selector||".markdown-body img",{background:"var(--medium-zoom-c-bg, rgba(0, 0, 0, 0.8))",...t.options})})}function nt(e,t,n={smooth:!0,targetPadding:-64}){let o=null;try{o=e.classList.contains("header-anchor")?e:decodeURIComponent(t)&&document.querySelector(decodeURIComponent(t))||null}catch(a){console.warn(a)}if(o){const a=(n==null?void 0:n.targetPadding)||-64,i=window.scrollY+o.getBoundingClientRect().top+a;!n.smooth||Math.abs(i-window.scrollY)>window.innerHeight?window.scrollTo(0,i):window.scrollTo({top:i,behavior:"smooth"})}}function fn(e){window.addEventListener("click",async t=>{const n=t.target.closest("a");if(n){const{protocol:o,hostname:a,pathname:i,hash:d,target:m}=n,v=window.location,C=i.match(/\.\w+$/);!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey&&m!=="_blank"&&o===v.protocol&&a===v.hostname&&!(C&&C[0]!==".html")&&i===v.pathname&&(t.preventDefault(),d&&d!==v.hash&&(await e.push({hash:decodeURIComponent(d)}),nt(n,d,{smooth:n.classList.contains("header-anchor")})))}},{capture:!0})}function pn(e,t){const n=document.createElement("div");n.className=t,e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),n.appendChild(e)}function gn(e=document){e.querySelectorAll("table").forEach(t=>{var o;if((o=t.parentElement)!=null&&o.classList.contains("table-container"))return;const n=document.createElement("div");n.className="table-container",pn(t,"table-container")})}function vn(e){const t=tt(),n=H(()=>t.path),o=Yt(),a=H(()=>{let m=-1;return o.postList.find((v,C)=>v.path===n.value?(m=C,!0):!1),m}),i=H(()=>a.value-1>=0?o.postList[a.value-1]:null),d=H(()=>a.value+1<o.postList.length?o.postList[a.value+1]:null);return[i,d]}function hn(){const e=Q(),t=H(()=>e.value.cdn.prefix);Xe({link:[{rel:"stylesheet",href:`${t.value}aplayer/dist/APlayer.min.css`}]}),Ve(`${t.value}aplayer/dist/APlayer.min.js`,()=>{Ve(`${t.value}meting@2/dist/Meting.min.js`)})}function bn(){Xe({script:[{src:"https://static.codepen.io/assets/embed/ei.js",async:!0}]})}const _n={class:"post-nav"},yn={class:"post-nav-item"},En=["src"],$n={class:"title truncate",text:"sm"},zn={class:"post-nav-item"},wn=["src"],Cn={class:"title truncate",text:"sm"},kn=ee({__name:"YunPostNav",setup(e){const[t,n]=vn();return(o,a)=>{const i=Wt("router-link");return L(),T("div",_n,[b("div",yn,[p(t)?(L(),J(i,{key:0,class:"post-nav-prev",to:p(t).path||"",title:p(t).title,"data-background-image":p(t).cover||""},{default:de(()=>[y(' <div class="blackback"></div> '),p(t).cover?(L(),T("img",{key:0,src:p(t).cover,alt:"上一篇",class:"background-image"},null,8,En)):y("v-if",!0),a[0]||(a[0]=b("div",{class:"icon","i-ri-arrow-left-s-line":""},null,-1)),b("span",$n,[b("h3",null,j(p(t).title),1)]),y(" <h6>{{ prev.title }}</h6> ")]),_:1,__:[0]},8,["to","title","data-background-image"])):y("v-if",!0)]),b("div",zn,[p(n)?(L(),J(i,{key:0,to:p(n).path||"",title:p(n).title,class:"post-nav-next","data-background-image":p(n).cover||""},{default:de(()=>[p(n).cover?(L(),T("img",{key:0,src:p(n).cover,alt:"下一篇",class:"background-image"},null,8,wn)):y("v-if",!0),b("span",Cn,[b("h3",null,j(p(n).title),1)]),y(" <h6>{{ next.title }}</h6> "),y(' <div class="blackback"></div> '),a[1]||(a[1]=b("div",{class:"icon","i-ri-arrow-right-s-line":""},null,-1))]),_:1,__:[1]},8,["to","title","data-background-image"])):y("v-if",!0)])])}}});function Ln(){et("click",e=>{var n;const t=e.target;if(t.matches(".vp-code-group input")){const o=(n=t.parentElement)==null?void 0:n.parentElement;if(!o)return;const a=Array.from(o.querySelectorAll("input")).indexOf(t);if(a<0)return;const i=o.querySelector(".blocks");if(!i)return;const d=Array.from(i.children).find(C=>C.classList.contains("active"));if(!d)return;const m=i.children[a];if(!m||d===m)return;d.classList.remove("active"),m.classList.add("active");const v=o==null?void 0:o.querySelector(`label[for="${t.id}"]`);v==null||v.scrollIntoView({block:"nearest"})}})}const M=typeof window<"u",ot=M&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),at=M&&window.devicePixelRatio>1,An={elements_selector:".lazy",container:ot||M?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},rt=e=>Object.assign({},An,e),Ge=function(e,t){let n;const o="LazyLoad::Initialized",a=new e(t);try{n=new CustomEvent(o,{detail:{instance:a}})}catch{n=document.createEvent("CustomEvent"),n.initCustomEvent(o,!1,!1,{instance:a})}window.dispatchEvent(n)},xn=(e,t)=>{if(t)if(t.length)for(let n,o=0;n=t[o];o+=1)Ge(e,n);else Ge(e,t)},S="src",He="srcset",Se="sizes",it="poster",te="llOriginalAttrs",st="data",Oe="loading",lt="loaded",ct="applied",In="entered",Te="error",dt="native",mt="data-",ut="ll-status",k=(e,t)=>e.getAttribute(mt+t),Hn=(e,t,n)=>{const o=mt+t;n!==null?e.setAttribute(o,n):e.removeAttribute(o)},ne=e=>k(e,ut),q=(e,t)=>Hn(e,ut,t),fe=e=>q(e,null),Ne=e=>ne(e)===null,Sn=e=>ne(e)===Oe,On=e=>ne(e)===Te,Me=e=>ne(e)===dt,Tn=[Oe,lt,ct,Te],Nn=e=>Tn.indexOf(ne(e))>=0,R=(e,t,n,o)=>{e&&typeof e=="function"&&(o===void 0?n===void 0?e(t):e(t,n):e(t,n,o))},G=(e,t)=>{M&&t!==""&&e.classList.add(t)},I=(e,t)=>{M&&t!==""&&e.classList.remove(t)},Mn=e=>{e.llTempImage=document.createElement("IMG")},Rn=e=>{delete e.llTempImage},ft=e=>e.llTempImage,pe=(e,t)=>{if(!t)return;const n=t._observer;n&&n.unobserve(e)},Pn=e=>{e.disconnect()},jn=(e,t,n)=>{t.unobserve_entered&&pe(e,n)},Re=(e,t)=>{e&&(e.loadingCount+=t)},Yn=e=>{e&&(e.toLoadCount-=1)},pt=(e,t)=>{e&&(e.toLoadCount=t)},qn=e=>e.loadingCount>0,Bn=e=>e.toLoadCount>0,gt=e=>{let t=[];for(let n,o=0;n=e.children[o];o+=1)n.tagName==="SOURCE"&&t.push(n);return t},Pe=(e,t)=>{const n=e.parentNode;n&&n.tagName==="PICTURE"&&gt(n).forEach(t)},vt=(e,t)=>{gt(e).forEach(t)},ge=[S],ht=[S,it],X=[S,He,Se],bt=[st],ve=e=>!!e[te],_t=e=>e[te],yt=e=>delete e[te],F=(e,t)=>{if(ve(e))return;const n={};t.forEach(o=>{n[o]=e.getAttribute(o)}),e[te]=n},Vn=e=>{ve(e)||(e[te]={backgroundImage:e.style.backgroundImage})},Y=(e,t)=>{if(!ve(e))return;const n=_t(e);t.forEach(o=>{((a,i,d)=>{d?a.setAttribute(i,d):a.removeAttribute(i)})(e,o,n[o])})},Un=e=>{if(!ve(e))return;const t=_t(e);e.style.backgroundImage=t.backgroundImage},Et=(e,t,n)=>{G(e,t.class_applied),q(e,ct),n&&(t.unobserve_completed&&pe(e,t),R(t.callback_applied,e,n))},$t=(e,t,n)=>{G(e,t.class_loading),q(e,Oe),n&&(Re(n,1),R(t.callback_loading,e,n))},N=(e,t,n)=>{n&&e.setAttribute(t,n)},We=(e,t)=>{N(e,Se,k(e,t.data_sizes)),N(e,He,k(e,t.data_srcset)),N(e,S,k(e,t.data_src))},Dn=(e,t)=>{Pe(e,n=>{F(n,X),We(n,t)}),F(e,X),We(e,t)},Fn=(e,t)=>{F(e,ge),N(e,S,k(e,t.data_src))},Gn=(e,t)=>{vt(e,n=>{F(n,ge),N(n,S,k(n,t.data_src))}),F(e,ht),N(e,it,k(e,t.data_poster)),N(e,S,k(e,t.data_src)),e.load()},Wn=(e,t)=>{F(e,bt),N(e,st,k(e,t.data_src))},Zn=(e,t,n)=>{const o=k(e,t.data_bg),a=k(e,t.data_bg_hidpi),i=at&&a?a:o;i&&(e.style.backgroundImage=`url("${i}")`,ft(e).setAttribute(S,i),$t(e,t,n))},Kn=(e,t,n)=>{const o=k(e,t.data_bg_multi),a=k(e,t.data_bg_multi_hidpi),i=at&&a?a:o;i&&(e.style.backgroundImage=i,Et(e,t,n))},Jn=(e,t,n)=>{const o=k(e,t.data_bg_set);if(!o)return;let a=o.split("|").map(i=>`image-set(${i})`);e.style.backgroundImage=a.join(),Et(e,t,n)},zt={IMG:Dn,IFRAME:Fn,VIDEO:Gn,OBJECT:Wn},Xn=(e,t)=>{const n=zt[e.tagName];n&&n(e,t)},Qn=(e,t,n)=>{const o=zt[e.tagName];o&&(o(e,t),$t(e,t,n))},eo=["IMG","IFRAME","VIDEO","OBJECT"],to=e=>eo.indexOf(e.tagName)>-1,wt=(e,t)=>{!t||qn(t)||Bn(t)||R(e.callback_finish,t)},Ze=(e,t,n)=>{e.addEventListener(t,n),e.llEvLisnrs[t]=n},no=(e,t,n)=>{e.removeEventListener(t,n)},je=e=>!!e.llEvLisnrs,oo=(e,t,n)=>{je(e)||(e.llEvLisnrs={});const o=e.tagName==="VIDEO"?"loadeddata":"load";Ze(e,o,t),Ze(e,"error",n)},ke=e=>{if(!je(e))return;const t=e.llEvLisnrs;for(let n in t){const o=t[n];no(e,n,o)}delete e.llEvLisnrs},Ct=(e,t,n)=>{Rn(e),Re(n,-1),Yn(n),I(e,t.class_loading),t.unobserve_completed&&pe(e,n)},ao=(e,t,n,o)=>{const a=Me(t);Ct(t,n,o),G(t,n.class_loaded),q(t,lt),R(n.callback_loaded,t,o),a||wt(n,o)},ro=(e,t,n,o)=>{const a=Me(t);Ct(t,n,o),G(t,n.class_error),q(t,Te),R(n.callback_error,t,o),n.restore_on_error&&Y(t,X),a||wt(n,o)},Le=(e,t,n)=>{const o=ft(e)||e;je(o)||oo(o,a=>{ao(0,e,t,n),ke(o)},a=>{ro(0,e,t,n),ke(o)})},Ae=(e,t,n)=>{to(e)?((o,a,i)=>{Le(o,a,i),Qn(o,a,i)})(e,t,n):((o,a,i)=>{Mn(o),Le(o,a,i),Vn(o),Zn(o,a,i),Kn(o,a,i),Jn(o,a,i)})(e,t,n)},io=(e,t,n)=>{e.setAttribute("loading","lazy"),Le(e,t,n),Xn(e,t),q(e,dt)},Ke=e=>{e.removeAttribute(S),e.removeAttribute(He),e.removeAttribute(Se)},so=e=>{Pe(e,t=>{Ke(t)}),Ke(e)},kt=e=>{Pe(e,t=>{Y(t,X)}),Y(e,X)},lo=e=>{vt(e,t=>{Y(t,ge)}),Y(e,ht),e.load()},co=e=>{Y(e,ge)},mo=e=>{Y(e,bt)},uo={IMG:kt,IFRAME:co,VIDEO:lo,OBJECT:mo},fo=(e,t)=>{(n=>{const o=uo[n.tagName];o?o(n):Un(n)})(e),((n,o)=>{Ne(n)||Me(n)||(I(n,o.class_entered),I(n,o.class_exited),I(n,o.class_applied),I(n,o.class_loading),I(n,o.class_loaded),I(n,o.class_error))})(e,t),fe(e),yt(e)},po=(e,t,n,o)=>{n.cancel_on_exit&&Sn(e)&&e.tagName==="IMG"&&(ke(e),so(e),kt(e),I(e,n.class_loading),Re(o,-1),fe(e),R(n.callback_cancel,e,t,o))},go=(e,t,n,o)=>{const a=Nn(e);q(e,In),G(e,n.class_entered),I(e,n.class_exited),jn(e,n,o),R(n.callback_enter,e,t,o),a||Ae(e,n,o)},vo=(e,t,n,o)=>{Ne(e)||(G(e,n.class_exited),po(e,t,n,o),R(n.callback_exit,e,t,o))},ho=["IMG","IFRAME","VIDEO"],Lt=e=>e.use_native&&"loading"in HTMLImageElement.prototype,bo=(e,t,n)=>{e.forEach(o=>{ho.indexOf(o.tagName)!==-1&&io(o,t,n)}),pt(n,0)},_o=e=>e.isIntersecting||e.intersectionRatio>0,yo=(e,t)=>{t.forEach(n=>{e.observe(n)})},Eo=(e,t)=>{Pn(e),yo(e,t)},$o=(e,t)=>{Lt(e)||(t._observer=new IntersectionObserver(n=>{((o,a,i)=>{o.forEach(d=>_o(d)?go(d.target,d,a,i):vo(d.target,d,a,i))})(n,e,t)},(n=>({root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"}))(e)))},At=e=>Array.prototype.slice.call(e),me=e=>e.container.querySelectorAll(e.elements_selector),zo=e=>At(e).filter(Ne),wo=e=>On(e),Co=e=>At(e).filter(wo),Je=(e,t)=>zo(e||me(t)),ko=(e,t)=>{Co(me(e)).forEach(n=>{I(n,e.class_error),fe(n)}),t.update()},Lo=(e,t)=>{M&&(t._onlineHandler=()=>{ko(e,t)},window.addEventListener("online",t._onlineHandler))},Ao=e=>{M&&window.removeEventListener("online",e._onlineHandler)},K=function(e,t){const n=rt(e);this._settings=n,this.loadingCount=0,$o(n,this),Lo(n,this),this.update(t)};K.prototype={update:function(e){const t=this._settings,n=Je(e,t);pt(this,n.length),ot?this.loadAll(n):Lt(t)?bo(n,t,this):Eo(this._observer,n)},destroy:function(){this._observer&&this._observer.disconnect(),Ao(this),me(this._settings).forEach(e=>{yt(e)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){const t=this._settings;Je(e,t).forEach(n=>{pe(n,this),Ae(n,t,this)})},restoreAll:function(){const e=this._settings;me(e).forEach(t=>{fo(t,e)})}},K.load=(e,t)=>{const n=rt(t);Ae(e,n)},K.resetStatus=e=>{fe(e)},M&&xn(K,window.lazyLoadOptions);function xo(e={}){return document.querySelectorAll(".lazy").forEach(t=>{const n=t.getAttribute("src");t.removeAttribute("src"),t.setAttribute("data-src",n??"")}),new K({elements_selector:".lazy",...e})}function Io(){const e=Q();e.value.vanillaLazyload.enable&&ue(()=>{xo(e.value.vanillaLazyload)})}const Ho={key:0,text:"center"},So=["href"],Oo={m:"y-4",class:"end flex justify-center items-center"},To={p:"x-4",font:"bold",class:"whitespace-nowrap"},No=ee({__name:"ValaxyMd",props:{frontmatter:{},excerpt:{}},setup(e){const t=e,{t:n}=Ie(),o=Zt();return Qe(()=>{gn(o.value)}),ue(()=>{se()}),Kt(()=>{se()}),t.frontmatter.aplayer&&hn(),t.frontmatter.codepen&&bn(),on(),Ln(),nn(),(typeof t.frontmatter.medium_zoom>"u"||t.frontmatter.medium_zoom)&&un(),Io(),(a,i)=>a.$slots.default?(L(),T("article",{key:0,class:Ce(a.frontmatter.markdownClass||"markdown-body")},[E(a.$slots,"default",{ref_key:"contentRef",ref:o,onVnodeUpdated:i[0]||(i[0]=(...d)=>p(se)&&p(se)(...d))}),a.frontmatter.url?(L(),T("div",Ho,[b("a",{href:a.frontmatter.url,class:"post-link-btn shadow hover:shadow-md",rounded:"",target:"_blank",m:"b-4"},j(p(n)("post.view_link")),9,So)])):y("v-if",!0),a.frontmatter.end!==void 0?E(a.$slots,"end",{key:1},()=>[b("div",Oo,[i[1]||(i[1]=b("hr",{class:"line inline-flex",w:"full",m:"!y-2"},null,-1)),b("span",To,j(a.frontmatter.end?"Q.E.D.":"To Be Continued."),1),i[2]||(i[2]=b("hr",{class:"line inline-flex",w:"full",m:"!y-2"},null,-1))])]):y("v-if",!0)],2)):y("v-if",!0)}}),Mo={key:0,class:"yun-time-warning",op:"80"},Ro=ee({__name:"YunMdTimeWarning",setup(e){const t=xe(),{t:n,locale:o}=Ie(),a=H(()=>Ue(t.value.updated||t.value.date).locale(o.value)),i=H(()=>a.value.fromNow()),d=H(()=>{const m=Ue().valueOf()-a.value.valueOf();return typeof t.value.time_warning=="number"?m>t.value.time_warning:t.value.time_warning});return(m,v)=>d.value?(L(),T("blockquote",Mo,j(p(n)("post.time_warning",{ago:i.value})),1)):y("v-if",!0)}}),Po={class:"ai-generated-excerpt rounded-lg bg-$va-c-bg-alt p-4"},jo={font:"black",flex:"","items-center":""},Yo={op:"90","mt-1":""},qo=ee({__name:"YunAiExcerpt",setup(e){const t=xe(),{t:n}=Ie();return(o,a)=>(L(),T("div",Po,[b("div",jo,[a[0]||(a[0]=b("div",{"mr-1":"","i-ri-robot-2-line":""},null,-1)),b("div",null,j(p(n)("excerpt.ai")),1)]),b("div",Yo,j(p(t).excerpt),1)]))}}),Bo={class:"yun-main lt-md:w-full",flex:"~ center"},Vo={class:"mt-8 mb-4"},Uo={p:"x-4 b-8",class:"sm:px-6 lg:px-12 xl:px-16",w:"full"},ea=ee({__name:"ValaxyMain",props:{frontmatter:{},data:{}},setup(e){const t=e,n=qt(),o=Q(),{styles:a,icon:i,color:d}=en(t.frontmatter.type),m=Bt(H(()=>t.frontmatter)),v=H(()=>t.frontmatter.aside!==!1),C=tt(),he=Gt();return Jt(()=>{C.hash&&setTimeout(()=>{nt(document.body,C.hash,{smooth:!0})},0)}),Qe(()=>{fn(he)}),(u,Ye)=>{const oe=Qt,A=qo,ae=Ro,be=No,_e=Vt,ye=kn,$=Dt,B=Ut;return L(),T("main",Bo,[E(u.$slots,"main",{},()=>[b("div",{class:Ce(["content w-full md:w-3xl lg:w-2xl xl:w-2xl 2xl:w-4xl",{"no-aside":!v.value}]),flex:"~ col grow",p:"lt-md:0"},[Z(_e,{cover:u.frontmatter.cover,m:"0",class:"relative",style:Xt(p(a))},{default:de(()=>[b("div",Vo,[E(u.$slots,"main-header",{},()=>[Z(oe,{title:p(m),icon:u.frontmatter.icon||p(i),color:u.frontmatter.color||p(d),cover:u.frontmatter.cover,"page-title-class":u.frontmatter.pageTitleClass},null,8,["title","icon","color","cover","page-title-class"])])]),E(u.$slots,"main-header-after"),b("div",Uo,[E(u.$slots,"main-content-before"),E(u.$slots,"main-content",{},()=>[y(" <Transition appear> "),Z(be,{frontmatter:u.frontmatter},{default:de(()=>[u.frontmatter.excerpt_type==="ai"&&u.frontmatter.excerpt?(L(),J(A,{key:0})):y("v-if",!0),Z(ae),E(u.$slots,"default"),E(u.$slots,"main-content-md")]),_:3},8,["frontmatter"]),y(" </Transition> ")]),E(u.$slots,"main-content-after")])]),_:3},8,["cover","style"]),E(u.$slots,"main-nav-before"),E(u.$slots,"main-nav",{},()=>[u.frontmatter.nav!==!1?(L(),J(ye,{key:0})):y("v-if",!0)]),E(u.$slots,"main-nav-after"),p(o).comment.enable&&u.frontmatter.comment!==!1?E(u.$slots,"comment",{key:0},()=>[Z($,{class:Ce(u.frontmatter.nav===!1?"mt-4":0)},null,8,["class"])]):y("v-if",!0),p(n).size.isLg?y("v-if",!0):(L(),J(B,{key:1,class:"mt-4"})),E(u.$slots,"main-footer-before"),E(u.$slots,"main-footer-after")],2)])])}}});export{ea as _};
